// v10
!function () { var e, r, a, c, s, n, t, o, f, k, b, i; let u = (...e) => new Uint8Array(...e), l = (...e) => new Uint16Array(...e); function w() { return this } function h(e) { let r = ""; for (let a = 0; a < e.length; a += 3) { let c = parseInt(e.substr(a, 3), 10); r += String.fromCharCode(c) } return r } function m() { return w()[h(arguments[0])] } function N() { this.t = l(16), this.o = l(288) } function W(e, r) { this.k = e, this.i = 0, this.u = 0, this.l = 0, this.h = r, this.m = 0, this.N = new N, this.W = new N } function d(e, r, a, c) { var s, n; for (s = 0; a > s; ++s)e[s] = 0; for (s = 0; 30 - a > s; ++s)e[s + a] = s / a | 0; for (n = c, s = 0; 30 > s; ++s)r[s] = n, n += 1 << e[s] } function x(e, r, a, c) { var s, n; for (s = 0; 16 > s; ++s)e.t[s] = 0; for (s = 0; c > s; ++s)e.t[r[a + s]]++; for (e.t[0] = 0, n = 0, s = 0; 16 > s; ++s)i[s] = n, n += e.t[s]; for (s = 0; c > s; ++s)r[a + s] && (e.o[i[r[a + s]]++] = s) } function D(e) { e.l-- || (e.u = e.k[e.i++], e.l = 7); var r = 1 & e.u; return e.u >>>= 1, r } function J(e, r, a) { if (!r) return a; for (; 24 > e.l;)e.u |= e.k[e.i++] << e.l, e.l += 8; var c = e.u & 65535 >>> 16 - r; return e.u >>>= r, e.l -= r, c + a } function v(e, r) { for (var a, c, s, n; 24 > e.l;)e.u |= e.k[e.i++] << e.l, e.l += 8; a = 0, c = 0, s = 0, n = e.u; do { c = 2 * c + (1 & n), n >>>= 1, ++s, a += r.t[s], c -= r.t[s] } while (c >= 0); return e.u = n, e.l -= s, r.o[a + c] } function Z(e, r, a) { var c, s, n, t, o, i, u = J(e, 5, 257), l = J(e, 5, 1), w = J(e, 4, 4); for (c = 0; 19 > c; ++c)b[c] = 0; for (c = 0; w > c; ++c)t = J(e, 3, 0), b[f[c]] = t; for (x(k, b, 0, 19), s = 0; u + l > s;)switch (o = v(e, k)) { case 16: for (i = b[s - 1], n = J(e, 2, 3); n; --n)b[s++] = i; break; case 17: for (n = J(e, 3, 3); n; --n)b[s++] = 0; break; case 18: for (n = J(e, 7, 11); n; --n)b[s++] = 0; break; default: b[s++] = o }x(r, b, 0, u), x(a, b, u, l) } function z(r, a, c) { for (var f, k, b, i, u; ;) { if (256 === (f = v(r, a))) return e; if (256 > f) r.h[r.m++] = f; else for (k = J(r, s[f -= 257], n[f]), b = v(r, c), u = i = r.m - J(r, t[b], o[b]); i + k > u; ++u)r.h[r.m++] = r.h[u] } } function j(a) { for (var c, s; a.l > 8;)a.i--, a.l -= 8; if ((c = 256 * (c = a.k[a.i + 1]) + a.k[a.i]) !== (65535 & ~(256 * a.k[a.i + 3] + a.k[a.i + 2]))) return r; for (a.i += 4, s = c; s; --s)a.h[a.m++] = a.k[a.i++]; return a.l = 0, e } function O(s, n) { var t, o, f = new W(s, n); do { switch (t = D(f), J(f, 2, 0)) { case 0: o = j(f); break; case 1: o = z(f, a, c); break; case 2: Z(f, f.N, f.W), o = z(f, f.N, f.W); break; default: o = r }if (o !== e) throw Error("Data error") } while (!t); return f.m < f.h.length ? "function" == typeof f.h.slice ? f.h.slice(0, f.m) : f.h.subarray(0, f.m) : f.h } function y(e, r = 0) { var a, c, s, n, t, o, f = e.replace(/[^A-Za-z0-9+/]/g, ""), k = f.length, b = r ? Math.ceil((3 * k + 1 >> 2) / r) * r : 3 * k + 1 >> 2, i = u(b); for (s = 0, n = 0, t = 0; k > t; t++)if (c = 3 & t, s |= ((o = f.charCodeAt(t)) > 64 && 91 > o ? o - 65 : o > 96 && 123 > o ? o - 71 : o > 47 && 58 > o ? o + 4 : 43 === o ? 62 : 47 === o ? 63 : 0) << 6 * (3 - c), 3 === c || k - t == 1) { for (a = 0; 3 > a && b > n; a++, n++)i[n] = s >>> (16 >>> a & 24) & 255; s = 0 } return i } e = 0, r = -3, a = new N, c = new N, s = u(30), n = l(30), t = u(30), o = l(30), f = u([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), k = new N, b = u(320), i = l(16), ((e, r) => { var a; for (a = 0; 7 > a; ++a)e.t[a] = 0; for (e.t[7] = 24, e.t[8] = 152, e.t[9] = 112, a = 0; 24 > a; ++a)e.o[a] = 256 + a; for (a = 0; 144 > a; ++a)e.o[24 + a] = a; for (a = 0; 8 > a; ++a)e.o[168 + a] = 280 + a; for (a = 0; 112 > a; ++a)e.o[176 + a] = 144 + a; for (a = 0; 5 > a; ++a)r.t[a] = 0; for (r.t[5] = 32, a = 0; 32 > a; ++a)r.o[a] = a })(a, c), d(s, n, 4, 3), d(t, o, 2, 1), s[28] = 0, n[28] = 258, function (e, r = {}) { let a = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : r; let c = a; let s = "undefined" != typeof require ? require : null, n = y("AZEzAACtenlso0l2H+skv486qPsg1ZQ+9fbsNHso8ZLE2cZ0U62DuqUWRR2GM0tJ1NW6b8lAshvA2HUOYP8wYDvOIkaA3RiBYa/tDZLAQZAgyP6RjZ1gAwcJECCDYO0kiwD+zwhiIJvfqyIp9YyB/LOD6fqq6t2vXr16VVQ6sHN1vHW5f3Kc1st3R5snh2l9Yb+B/cvyeeny5Dwd3Do5vrg8v9qigXN6fnJ5cnl3Wk7735Z3Dstbl2mnhpBWpdPTw7u0PL262EvLzf3j7bR/9OTksFw6TvuvS4dX5YWdtNwqHULQwuYBUTdclC8Xq0wBdT791Mj49NO0e3VR7gXnfaD50vqwfLx7uZcOnJbOL8pTx5fQ9WoTYOgOnOPddN3O+cnRm73S+ZuT7XKaXabZSZrtp9lVmh2m2bs0u06zvTTLpdlZWo2fn8Med6x0Weotm766ONzfKqcD4Fo6Py/dpVXOfNyV/ePLEdsPUj8xZAfNgyOpRGIokUgnBjOJxGBiMJV+mhhM0gT+G8wODg0nBtOD2WHMUJ8mgZVIi9OT03QDHFg+Lx9vla0ujb37F73HJ5e92+Wd/ePydtq5Oq523d3Dk83SYWFv/yKtb+DXk5u0/7x8drV/XqbO6WEJqjf83F/JfbRR+uh+8KNsbODn02w3LedK8JncKu8fpt2tim9yl+nPnNzbd5O53GixOJ64nkysrFwXs9f5+YvBhZm3udWLdweJycx6cfTkempkNXF7VtoozuxOLm2M7o6OlMrzE+ObB8mV4fPN6eP7jZmdm1xpdSA3Fsu9uV2/mDkav53a3LnZPLzeO1+6SJ3fpLLZu8Wt2NDwXLo4v5G9vp86uzs/i63uL8+X7jOlmaHZhfuDwcGRgZnts83hndP92E5hf3j2dGroaOHt4pvYWiE2cX02dD1f3p7cOB4ZWM0nVme3zm8ub47OkqnTtxPbidWr+6HzRGb1JjN7c7ld3I/N3l+uHg3MjY1lspf7G4n8/Pnd8Gxmc/Pk/m1pNn27lV7cPF7fnLs8vFoeLh3eroxMZNdmN7YnY8n83e31yXR2ZXO5fLi983biXWZtbmh5cGHrpJhe289kN3LXd8ns4tnA0f3W4dVgMXZ5tppMXhdTYxuH07nljbPr4kjy4nDlaGP5pjh1cXNzuv6mWJotbZ2PLNzOzS/nD2a23l2PnI0dnJ3tnN3eFo4G5ldntvYXFieT+eHs8NXEQWY3vzEZK+dGktO5NxsjN6mR08P5bDm1kkmeDazOj5/tlCZWV9Lj+wvDR5enO6XE3Oxlbq4wNHU2dZvZ3Zi+Pnq3tPFup3xfXs0WJvbudg6yB0uld9sD59nE2VlyZ3x7cvJtPjU4uT14cH2yvT84fXJ/crd5OH08uDy3kyuOLCxlL7JvTlMD72LZw8LQwfzG3PLCwEp6aWT3uDg6tjU8Xri5Lc2NX40PDhXm39ys3+2d7m5dld6M356sbufPDmbG12amt3I345mN6/TSwvrOUDI/d3q3vnv4dv1iaOZtbGZo981+KXmdP1+/Hjgf3xs7Olhf3N2aGDwdW17KTcam99fmp9cWS4XV2dz2u/TV/N7Y9Nu7zbXD2aOl5bmjxdlyaXtx7/ry6N36cGZjZ+0qMTRwdhW7zB0sbb8Zv1gfWDoppEozy1tnK6PpN4nj8bWNu+XcSGljv3CUi00vZyfKM4nr1cRB8f44lhodKO8On81e5RAnK8n9tfzO+ujF7kju3XZhf/12fuh8KLu0ezeyMHw4GLstnL8rp4rl1FSqfH0zeZDJD53PHCcncse5o/P74Z3dzfmloaWdgdjhwtL5xf54Zu02Fdu4nnq7cXB3eZBenlo6np3b3H4zcTSeO1obzZ3lcqW5veOJo1js9GR6c/Rk9aYYG5heWystnt/fpSd3LsrrmczZzLv00e74Sfo2/2ZuI7Uxtre6NlJMzC3G5nZPLpKj29v5t/tz50s7k6frC9MbS4dTS5MruemzqbHyytrbocTE8src4Jvi4Nz6VCGWm3i7dnlZLt5vla7XDrcnx7GRj9KLl2upgYXr9du97EJ+ayydKO0nTy6HdieWy7GdobHj/G5qcSN7dDxaPJm5HTu6WcLp8aZwNz+6Mjkwu3Z8cbW0PHwR294+G1vbXVzOLMxubuQOl4ePts/KJ2+vZ25n06njudvh+c37ydOFo9vx2N7k0v5CbiR/e3cyvjsRW06OLCzsl2fK67P5zeLu7ebB/NncbeE0lbq6KJ7uzy9u7h3tTlycXC8miudbG6vbw+/ye3vJi+NEem5seXL+fmRreXN8e2R9YXHgZC2tN692kGBxojwdX1tceFtYTtdNHJ6ULofSJn+/9vleM+Z7zTkaQY3EP4V/mivfaz81AYwcHvC9dtEJctf3uo6aelGHtoG6jdSEqGmippmaFmpaqWmjpp2aDmo6qemippuaMDURanpEBO0T00ZN22vaPtlLH88M+k37lNqXjP1vv8+X9/nYSyb/LEBdhq76fYe6HN1A3KWuYCnW9JK5v4lRFjiTjPWv+YI+TPtecR/7mPNFxniGswJ/AT4pxl8JxlJSeFLIj6UEVBroJ4C+5Pyr+MTz1GfiDB/AItzn40nm8yUlY0WZZYxlfKzDykkyzj5+f0Iww/CXjTjfKwktanIyjBfY7wOS5FBdSk9y+YozNiMlzwBDsoL8EYHBheZTQnmCiyHGhIF9Rkwlj/+kgkOiJaTLivQg40EuktLHsz4pCzIOh72STKeY32MSEgMfiKJICukrim5OOkHxOGF9wIrsOWN5KWGClCnpeJLJFAsAWRoSTiQExr8Ucyv8AGAGLCsctY+4KOJidf6HDunqIxxlMEWKK48LXuRZbvQHqqp40BVYyVeMBVNSWQXqrKB6uEOnhP+VYsGieu5TRfVS6W5gF1W34FwUeTdWRiIC8oqx+rgCKIBI8fegE2GIGgqQihj8n2SKwmXy8eLBfZDdkJKNJLsgP3WN+xpSrNFq4XaDh4zvY/6ldL6BD1YNzAW8Agt5gBU5WmOalO+tS1I6cFsoyR0e5RJj5lQlv2TBP6tDOLuN0LfuvJ66IXQbvmu6Teg2/ifTbUY3tNJA3RZ0m143UrcV3ebvhajbhm5Loom67ei2hpqp24Fu20ILdTvRbQ+2U7cL3Y6DDup2o9v5407qhtHt+pNu6taj2/3zYeo2sDCDF13GwlyMcI59zWGC20TLjXk4gNPAQCRB6sPyid0tACsCN1RmDI7+Ao7/CziBCk6oKMOyiZpmanzUBKjxU+NQo6lxqVHUBKmR1NRRI6ipp4ZT00ANo6axKJ+3yJoKzmMr3Ir0f8Fr8GBFxVBNxTr+koX/OEzJwYUUtMQNYQ3EFoyUmdM1dYCTlcZzBPUbaKCmGKUXaWhVWEbCwhcVXAogaxryv47IYZK/FBH+xOczjpjzGXlCVNKeaM4jAYAyHxTYa0HEZBBx20KJpl0IWRD7CCTkwNakBIC3JVlQFLG4aGh384ofiWU+KAUw21OyA1wkbTBwaBZGgMBXiDgHN4jhGZ8wkSzqv11PqRjCpduY5HU+xI2HJFlkWUb5TlR3xfhDJyU6YWNDmIewb+DpKFIHGxcp2WXcrX6DFxX5O8qRhWobapynWHdSNrKohFfGYUzYeIxxAZY8AsFgxIkR74GzohLOJLQnSdHIa3jRx3i90BrrL2UNuS8paEYIQ/A4ywaFhLyICCk4OgR7Q6rNePhXGsgnIUYzYe4zWvdyFlLxd4BgJsJDioehhwyJMc6lIcW3wH9CpNySEtNlKYm5SrKQGBSCNqHEx4RFryCWf88Kk9BDC1gZASWW8AlRtYG6IF81UnSGuOHDQxrZR/AwZSzIAQvKbLNg2kwcLNO/ANO/zNQmhZVHCmsiS3lBfJNYiya4qZMSOrrKeBOHWy9jTSpeBIJJHE10IDRJwmjDYVZg/55IGUhFpycYYrwJibMJXmxSy3CFxxmPcZ8gx4HPtwibV7ARftxn5KCuMe5s0rwqJcysfoxO2o9DJMStoxmI1mYNDR/WSUFJ8ySpmThYSX/eWFmiJkUKWY1xvBT474SMDmQlqauW4TNSJkPA74QqnmBdHs5lBE0dTOFJBVwNXKW0p6SKKZ8gTRQ0UURphY6Gqv5O8mYY2fNC+AxjCG4ixphUkSTDR3bT0WS6OhxD9tWeljqqhdJJZWiRFqNSYZ9xGYaJkjAjhNTKuc43I/lwM4V0k5Bcy6RuxvbV71cQuoVPal3QRRKvWwQhxGkQ1p1J2YIV7/G45G1a84L+JxYJkxEDE90eTnnTVWGYjKNckdkYyx5KAbNKYZ1RiCY55jRUDjSQKkaCpYuQu8Lypz8VYY0VbeFjEDUqYQVo8y1SJRWxi5CmCa2ktmQ9hDrNJRZPt0jgiGWt1XvmkQW8lXA9xRUsUAV930wWtBovE4y8jH1JXRGO0WJYi1qrhmPDIFo1tr5qNRbwQAOHRfHO5kr8tNImw55plcKOoZJotWshdES3ah3GIchb5RQso5USrbREpDAHWGrMObwVgalZKzzVyivRj66pn5pJBrS28xqLhnnw9hMxBlh+31fAjOu/XzUPCwQpUaENF1Ic+qtpxTWWB4x0FzFAl8ASEc6JcSW5P0SHcNuT2GJFFVaKmq9TghY4MdrcLwJZFRZ8DyYrjYXVCeOsNjhLtABFIsGogvhvLRT9bpBmwtpnwhzuaJPxf9xCseiL6Dayta3O0Ji1fNlKxj4IEtT4SJCG29v82CdgKFwnydukTVtt/qhQnJIfOP/EymwFD7cI3m6wiJXyUdNS1FnkXytXkVwXxEGsGExro1gSBf3DNiO/AzOmMgYXkeVGdkAjfc5wjX39g1aKk6YZLAUXz0ASFs0WcoRB/PvU/MByCkJRhYSNo0J4HMHB2xxuLDQSwqik6UCGFGuhJsWwd/sq5L3c14blbXPMun8CI3X8L1qr/GlJOPggBEWloSXBWhijdEHsWTTLx64C159oYvPmkZo1Nn5qgsTmPXV+57E65qSuafM32h60qagLZxk58U27nK3gzqm4xnKAvY+6bS6ESPDnAIs2c7MBmNR2TYs+VVuPYzfMv8bt6rSb1Wnn1dVpl3oGe6XAp9sp0buoznlHnAaWpl22GfDXDbgdm+eJp7k2XRE1SQJ9GaVFjG93GB7tVTEo6PTXuZ+E0A4zcYV91i5pf9HKUTXZTikCqmnQAKFdINw4LUW7FlZi1Eqk4AYOcqDrT8p27UnsJFNKYt4cNBTu3ORMGOYn6wLE0Q+RyoZre8CGq9FUkw1PbBJBl0dx9mpu+uqJp5AdwMDTSps1wQ5sD8SbQBhvb6+dXLrDJkckMx2wrvoHxgsddFS9QFWtTR8nlAog5QgVPwE8rMi5HfbUIPnEJmzZMJQCmrZohHdwPqXoSK5gkrMNY/IIuZSO2Ijq4HA0HRriaxa3msnRZWE68xHhyygOqOqZwgmeZB0Ph2pFNM4IxiGaUaanJBgSyJpaDEFEQe3jmgTH48xUHXE7MIqEhWxAeiIL4PQOpFE0Bf1vCcPY96Rmn4riVCSnksBustV0ZTgmfdo8CqD+VPITyTpE/OvEQBJVj9k1kg4dik716HKp3Oak6DSh1omIxtGq8p2KAqQNM7h3Z5lSEdVJxzCiR3aq2qUDtwja8MiRMxDK5Ve76G7BZlBCcHVLA8Ut5O9iEP9zan7aZfZqt2WUZRSknVJU57vs/Ht3IvE5nM4qTqdKqV4bs0mFgeyz4UwUoO2iyQqI93pcmSxARH10flOgSxmRnVJaztLlZgTGKN5cNmSK4C91m5u8lxL95AspczJOc3COmMQKC2m0IrZRW6yQuCcUeynRQuHWrpQoqB+BJqV874GfEvhjIRYNxneIKylL661ESj2tZCtM2f1b1N3Y1Sr+h1VMSiRKp9SXHjBZ1F6aujmVL0LHPyNkTfqZ/ZgRqnIqJ0UXNGohpfNdTL1S7BmmEAkaK57v4nT45btgkeoSBLB2jNGVVXUh32BWd6FK7hIe07h6KardfV0i3hg27zYMV8APKK66TKasPZckWbfPuIaJPC6GwHqGKaisEQ35bnsJ7aZLaLcgAG6frCD+GTEV3bgAY1Z1w6RuUckrDHnF1y3i3yAUFLavGPtyEfuzm+PuCDd8rojDERwWOJP9SRbGMaVZQXdEiDJsq3uNjBQW9kZo7jVhEf8TIx0IupNSRlj4w6wzCjB7bzYQVr/KotjKuHeFqzeUMHPC+tToCY9GcILBs50ko82khW+TcEVcusggdEGCJAQVkG8EpCi6FEGLzUjlUhSmC923GKHivqIK7DPiQSJVl6cYmBn+INf0jYID5V6w+E6kUv0YFwQeXBDrqbqgi1wQ1r9p2FMRDKOsNgiAKDipXkWs/gexqhl0+mDQdc97BoXV9xjJAbnV+ouGpXoeG6Ye7Ppej7GLp1Qn2UVsTB1Rs+evWrV5ZeXCpG2vUfLByl7Dz5R47EkFnfxEeTQsiCeCV1dU+aOe6rn0kvU4fT5fPkLvYU+OTZfew6L/xnTpPaw361GX3sO8zFPqdsPUiC+lWzyN5WaMnJthusDOnhjHo7JJqghqNkZ7fAhng4F+g/QCIU4uIoz/bYznfCyjWT7CdUrHXzHfwMeMfWjW6rcBfaXZQPyPn9BTcfyV8A0ijXxo7sc/fGLeQQfjPyKeIsIzTBg+dK5ERD4iK/wSNX7/1/JLxEWU3nMNttIvdf9vDRD/EXqC0TofoYIMPqV3GV15As1H/GSxv8D+VtSYoCsmmC7dAmgDBOiZQJrqgegF3XRR0M5CYcwyiystbmcVN/53osYAnWItRGDUomIE0vQfRE1xVw/SgFUv/r+MApgiEpWlvFa5SsDj2mQchcNKjSGFUuHELEfHcDSr8EmvYRpG9q83NDxrj40wjgukV+LbQmcHxmOoKewdhFJcxLHFYIYWHWHgMqxePhJkz+lTZz/19tNgP43MYIbYBxg0mbbZQlrIIbhSfTznEyYHQUFlFPxdoyBgKgFtFCpGheXlhlEr5b2vILAogdPCtLGKN9qMHebZHICX/Ok/TdJLGz0mRrqQ54wBrs3RKVE/Do/Rizi9WRHnHmY07eH2Qzv0r0G604t7l0snWET0oMwBQVL0cFrTOkY04mssyXtwI6QHn3IfXVT8zcAQ8d4+WtgeVjuIwIwRM/MAggGnAad7cGAWdxeJsus9iWEeonu0NDLfw++s4tcOm0g7Pd/no7CNNeej1ooo1W9R6BcV9sFn0DPBE0rxD62bUCs3psRzOvPhKEFcaKnJMbyZgQ00jor4n5IpGL73UwCEBvM4OF6yvhXwNbAvsT6jTSjfx01w9JEKvSyCKWYI+uj3jD6BCXot7mV29enSHGmkMRmY76uHJ/rqK6VFvq/BnJZ9jcDqawCk0b6v8X7ycF89zVi6EOh6CStkCZuoj1K4LwShTeZFDBb1Ncb/kfFEpC7fRy9vETffZzZoU77P7PTmfF+AvjLf59C3Jd/nUvD2BU1rQh0m0BfFd6QFzujlmHBhUx/COtKEmT6kekT7OGFI7n6TtOWR7qx5P+8L8vr4v8NUoBmTLWb3c1ZgP+g3irWkeIx+TIFNtFH6WirMH5EbaohrxqiO/OVWNOnTVU0UZupoxo+ZJpqRmAnSDLdLwvsCmGmmGQczkmbqCvzFU8O6Lsfjpsv6gg+hVo1QVDYehaaHYFtCPcy4Cj2j0/KTGYZ6mCVpwF5YyIqBeBbyrw1k1ELEBwTptJAUDdichbw1kNcW8ksG0mAh3zeQvIX8dwMZt5DuLxOk30IKNGBNFvJtAwlayJ8ayFcsZOBDgnzZQsyAuRZyayDdFvIvDWTWQtznBHliIcs0YCMW8gsG4ljISIwgAxbyKzRQPRbymYFMWsgfvbD3CAP57kemTrCQeJwgIQsp04ANWsjvGchLC/mfBiIt5MUAQXIWckIDNmYhv2QgXRWPYhD/NWq+O2DOoCDt3Ep6MpkAx0MzygwU4wZDReo+n8UMWlQAp8qkzkSIIhRTy2CgaYDTsqB//ZlJ7cFqwrJ1KPW1jiGh6/gfPDPxH0z6adbv9/zMX8WOMZ+fjjPzzmXlVWjzuCQ+9E0NEIS6IVv+eJRdmpPILaS1KYMsNXYwMKvaEmrFQj9N+AWka3/Uz5Tf4vsBVjUHIHOoiIwqwB/8w2rURu+uqlb0YhHpsD06gqCF/5EW/poWfoVBfZXM034U/+zB3C8oYGntjvQLOv0FrYj+/IpUF8GIUzUtlfHwiB9mCv3ITF1jSidzRUsiC9BkQAW8AAsUA1STRDVIH/R77D8jPVBTOMAqYWMnrcEB8/yNWlmhVv68T6zWfl1zvdVJCTK2Nvmgkz+Awidg6okH83VNARNtVrhVMWCWuDb5oJFWH/r9Ck5hj5zyOPfVHGJVVPo95z720qLWgZ+Jj6Z+Vj6a/1n5qP3zPmpIMcfwe98z9KTXzfxVzSt7O++1+l/56WLstVJ5SzNt/rDfl/fa/Um/1wpAexuoCv4fPycyr41QsaHbx5ArUIOPmbsfpAqclqim4WZzT/ba47/x3Pj6waq8R6XHo52Q9+iNmpbVk8ZNwlPkspQ/APUFVdReG6pELoT//7ehHu/fSt6zk9btfhMItUmHJh2/4znMiToqgEZox7J3vrD5/hK/1yYfYgYXEiSEKHNELTxsTeh1UM38DNZ1UJ1HM52mPPS64A+vA4Au+6Pj1Asi8zoJNel4XdhKTthh9IFaDSkFJzuOijpMkA1eV1y9MBpXtXVQEWhbrFoThZP3/M7nMALC+NDx/BbBcYzRwgtYuFuFw7Weg0UwJwn9rY32HMqjXie9EeGiHVXCqeXeqkwFlkEr07rMUZOK/s97dXRJgleoX0/9ekiptyQNIPEaMMefwcaCM/lRZTGUF6QLJnRpsMeHo6yH4waFeXUZxQpqxw4aQCOeMebQX87Q/Dcx/0qxFwRLOR8hzzn0CKRUTsW/+VFlGztGBtYaMrBZkPGdzx9w3RqX12fA7C465qLqhel3l7wXIY90AxDBNdwp6MY4kXlhQoXQyJjjYLkZfSDLbhX7MOFQMexF4j+sqVELa9wXHS+Mlf58WD7KEcHq+V8J08qBReqD7iHZsdrSIDewx2Qmi5ooRTDbreESouvHv4AbdQVDox3XMnNB6xC+g53jOhij77o1IdXUTPpEhePWNmyVrXDzXqMLug6iy3sh6lPkNXrCFRlXcPcDQ+GFIrgs0kxVcpW7iwClWwWxEOg322B1vSZinxFuQRwYCq854kZcmqlqUaFooZK5xfB/SChupNXQ+9yOFF3NPbbsuiLnxoef1n5BEP2+lNNCewb33zbHERnhFMSPqaRzfAK7SPej0jOpYAiLbaD/xwjAvMOIMO4bpBuqL4N91h9AxPfjLpxcYql0kS6O9KDqEIi2ZL9j7l80pB3ZHyiIy0HzxzGZlDMUxtrpfnfK5uFl80FZQ+m4PzCIL3gxkzj6A1P4xr9Fkh0sOIhsRC6bD2dW13y/+QEUO7I/SBEOV/VXfvbslwIWRpx+5dgx5Zh+F5gaF0FY+b0kWSVoAhdxbMB+M3BSbBjqmLMHQsDA74TZ6zYSyJwCa0uQSj8HFD/mtJmLJWgv9PvDTg6HixP/rzQGYVh/1eDQDpszdL+QDBi6gJnbIjxNdJNj2Ibx/1KlCwwYnIBTCPyiofs46Td0fjP364QXIDq5HAg48f9scGKEMwOcgvN9M/FJ/D/S1z+QDALg9wcL/j80E6/i/4G+QV/GH8wYnhkdoAcarcMBcoIYA9splCCzWJQ61i8ZeUr3ixkhYI7g+mnSxIgLNTRVT+EAW8QnQz9/fTdZeUnt52BJq8drj30rSWMy9nO/+W3XTP5a0vgPyaJfASDDgRCU4KNQIux0tuIzakT8lLVWixDsrH6OvNOv4smaOIkEggFN6/g/HzSS6ipv3AYj4ur3zsn8U4ZomUjqp4wsKwhfyuyt+pSmrNNJWcbGpI7/zZSNF+AOGVwPE58QJ9TO9F4T9yyxyVP5p+Z5otIX4rkPH2meJJ7SHzc9JUb0Jz9gdG/onkortP2RUCj6VMXzlm8jKHCiPJVRhsIi/q9gaf//Aw=="), t = !!n[0], o = t ? n[1] | n[2] << 8 | n[3] << 16 | n[4] << 24 : n.length, f = t ? u(o) : u(n.buffer, 5, n.length - 5); t && O(u(n.buffer, 5, n.length - 5), f); let k = 0, b = {}, i = []; let l = [], w = [], N = []; let W = 0, d = null, x = null, D = [], J = null; r._$EXPORTS = {}, s && (r.require = s); let v = 0, Z = new Float64Array(1); function z() { let e = 0, r = 0, a = 0; for (; a = f[k++], e |= (127 & a) << r, 128 & a;)r += 7; return e } function j() { return f[k++] | f[k++] << 8 | f[k++] << 16 | f[k++] << 24 } function p() { let e = z(); let r = ""; for (let a = 0; e > a; a++)r += m("083116114105110103")[h("102114111109067104097114067111100101")](z()); return r } function T(e, r) { let a = b; return function s() { let n = W, t = {}; W = e; let o = b; b = t, b[e] = {}; let f = N[e], u = f.length; for (let e = 0; u > e; e++) { let r = f[e]; let c = a[r]; t[r] = c } let l = i, w = k, h = d, m = x, v = c, Z = D; let z = null, j = null; i = [], D = [], k = r, d = s, x = arguments, c = this; try { z = I() } catch (e) { if (D.length) { let r = D.pop(); k = r, J = e, z = I() } else j = e } if (D = Z, k = w, i = l, d = h, b = o, W = n, x = m, c = v, j) throw j; return z } } function I() { for (; ;) { let e = f[k++]; switch (e) { case 37: { let e = z(), r = z(); Object.defineProperty(b[r], e, { get: () => d, set() { } }); break } case 88: b[W][z()] = x; break; case 38: i[f[k++]] = i[f[k++]] in i[f[k++]]; break; case 27: i[f[k++]] = z(); break; case 32: i[f[k++]] = f[k++] ? ++b[z()][z()] : b[z()][z()]++; break; case 62: i[f[k++]] = f[k++] ? --b[z()][z()] : b[z()][z()]--; break; case 11: { let e = z(), r = z(); b[W][r] = x[e]; break } case 53: i[f[k++]] = i[f[k++]]; break; case 69: i[f[k++]] = c; break; case 60: i[f[k++]] = T(z(), j()); break; case 43: i[f[k++]] = f[k++] ? ++i[f[k++]][i[f[k++]]] : i[f[k++]][i[f[k++]]]++; break; case 44: i[f[k++]] = f[k++] ? --i[f[k++]][i[f[k++]]] : i[f[k++]][i[f[k++]]]--; break; case 51: i[f[k++]] = l[z()]; break; case 81: i[f[k++]] = RegExp(l[z()], l[z()]); break; case 71: i[f[k++]] = !i[f[k++]]; break; case 3: i[f[k++]] = void i[f[k++]]; break; case 16: i[f[k++]] = ~i[f[k++]]; break; case 56: i[f[k++]] = -i[f[k++]]; break; case 58: i[f[k++]] = typeof i[f[k++]]; break; case 83: i[f[k++]] = i[f[k++]] + i[f[k++]]; break; case 48: i[f[k++]] = i[f[k++]] / i[f[k++]]; break; case 68: i[f[k++]] = i[f[k++]] - i[f[k++]]; break; case 4: i[f[k++]] = i[f[k++]] | i[f[k++]]; break; case 66: i[f[k++]] = i[f[k++]] >>> i[f[k++]]; break; case 54: case 41: i[f[k++]] = i[f[k++]] != i[f[k++]]; break; case 75: case 80: i[f[k++]] = i[f[k++]] == i[f[k++]]; break; case 20: i[f[k++]] = i[f[k++]] & i[f[k++]]; break; case 76: i[f[k++]] = i[f[k++]] << i[f[k++]]; break; case 1: i[f[k++]] = i[f[k++]] >> i[f[k++]]; break; case 73: i[f[k++]] = i[f[k++]] * i[f[k++]]; break; case 78: i[f[k++]] = i[f[k++]] <= i[f[k++]]; break; case 59: i[f[k++]] = i[f[k++]] >= i[f[k++]]; break; case 22: i[f[k++]] = i[f[k++]] < i[f[k++]]; break; case 21: i[f[k++]] = i[f[k++]] > i[f[k++]]; break; case 86: w.push(i[f[k++]]); break; case 57: { let e = z(), r = Array(e); for (let a = 0; e > a; a++)r[e - a - 1] = w.pop(); let c = f[k++], s = f[k++]; i[c] = i[s].apply(a, r); break } case 6: { let e = z(), r = Array(e); for (let a = 0; e > a; a++)r[e - a - 1] = w.pop(); let a = f[k++], c = f[k++]; i[c] = Reflect.construct(i[a], r); break } case 31: i[f[k++]] = i[f[k++]][i[f[k++]]] = i[f[k++]]; break; case 14: i[f[k++]] = i[f[k++]][i[f[k++]]] += i[f[k++]]; break; case 49: i[f[k++]] = i[f[k++]][i[f[k++]]] >>>= i[f[k++]]; break; case 17: i[f[k++]] = i[f[k++]][i[f[k++]]] |= i[f[k++]]; break; case 74: i[f[k++]] = i[f[k++]][i[f[k++]]] -= i[f[k++]]; break; case 34: i[f[k++]] = i[f[k++]][i[f[k++]]]; break; case 26: { let e = z(), r = Array(e); for (let a = 0; e > a; a++)r[e - a - 1] = w.pop(); let a = f[k++], c = f[k++], s = f[k++], n = i[c], t = i[s]; i[a] = n[t].apply(n, r); break } case 65: throw i[f[k++]]; case 63: { let e = f[k++], c = !!f[k++], s = z(), n = l[s]; if (n in r) { i[e] = r[n]; break } if (c && !(n in a)) throw new ReferenceError(n + " is not defined"); i[e] = a[n]; break } case 42: { let e = z(), r = Array(e); for (let a = 0; e > a; a++)r[e - a - 1] = w.pop(); i[f[k++]] = r } break; case 77: { let e = {}, r = z(), a = f[k++]; for (let a = 0; r > a; a++) { let r = w.pop(), a = w.pop(); switch (w.pop()) { case 0: e[a] = r; break; case 1: Object.defineProperty(e, a, { get: r }); break; case 2: Object.defineProperty(e, a, { set: r }) } } i[a] = e; break } case 39: i[f[k++]] = null; break; case 50: i[f[k++]] = b[z()][z()]; break; case 28: i[f[k++]] = b[z()][z()] = i[f[k++]]; break; case 12: i[f[k++]] = b[z()][z()] |= i[f[k++]]; break; case 9: i[f[k++]] = b[z()][z()] >>>= i[f[k++]]; break; case 18: i[f[k++]] = b[z()][z()] += i[f[k++]]; break; case 7: i[f[k++]] = b[z()][z()] -= i[f[k++]]; break; case 72: b[z()][z()] = i[f[k++]]; break; case 84: { let e = f[k++], r = j(); i[e] || (k = r); break } case 2: { let e = f[k++], r = j(); i[e] && (k = r); break } case 46: { let e = j(); k = e; break } case 35: case 23: return i[v]; case 10: D.push(j()); break; case 13: D.pop(); break; case 8: b[W][z()] = J; break; default: throw "u" + e } } } u(Z.buffer), (() => { for (k = 0; ;) { let e = f[k++]; if (52 === e) l.push(p()); else { if (64 !== e) return void k--; { let e = z(), r = z(), a = []; for (let e = 0; r > e; e++)a.push(z()); N[e] = a } } } })(), T(0, k).call(this) }(0, {}) }();
let e, t, i; void 0 === localStorage.accountName && (localStorage.accountName = ""), void 0 === localStorage.accountPassword && (localStorage.accountPassword = ""), i = "https://europe.swordfight.io:8443/api/send"; let a = 0; const n = { MOVE_U: "U", MOVE_D: "D", MOVE_L: "L", MOVE_R: "R", MOVE_UL: "UL", MOVE_UR: "UR", MOVE_DL: "DL", MOVE_DR: "DR", MOVE_S: "S", INCOMING_PACKET_CREATE_PLAYER: a++, INCOMING_PACKET_HIT: a++, INCOMING_PACKET_MOVE: a++, INCOMING_PACKET_ANGLE: a++, INCOMING_PACKET_BUILD: a++, INCOMING_PACKET_HEAL: a++, INCOMING_PACKET_EQUIP: a++, INCOMING_PACKET_CHAT: a++, OUTGOING_PACKET_HANDSHAKE: a++, OUTGOING_PACKET_UPDATE: a++, ITEM_SWORD: a++, ITEM_HAMMER: a++, ITEM_PICKAXE: a++, ITEM_FOOD: a++, ITEM_SPIKE: a++, ITEM_TRAP: a++, ITEM_BOOSTPAD: a++, ITEM_WALL: a++, RESOURCE_TREE: a++, RESOURCE_STONE: a++, RESOURCE_BUSH: a++, RESOURCE_GOLD: a++, RESOURCE_RUBY: a++, ENTITY_PLAYER: a++, DECORATION_FLOWER_RED: a++, DECORATION_FLOWER_BLUE: a++, DECORATION_FLOWER_VIOLET: a++, DECORATION_FLOWER_YELLOW: a++, DECORATION_LIGHT_SHADOW_SMALL: a++, DECORATION_LIGHT_SHADOW_BIG: a++, DECORATION_LIGHT_SHADOW_LARGE: a++, DECORATION_DARK_SHADOW_SMALL: a++, DECORATION_DARK_SHADOW_BIG: a++, DECORATION_DARK_SHADOW_LARGE: a++ }; function l() { let e = document.getElementsByClassName("discordLogo")[0], t = document.getElementsByClassName("settingsLogo")[0], i = document.getElementsByClassName("inputBg")[0], a = document.getElementsByClassName("gameText")[0]; e.style.visibility = "", t.style.visibility = "", i.style.visibility = "", a.style.visibility = "" } function s(e) { let t = 0, i = 500; return function a() { e >= i && (e -= i, i *= 1.0467, t++, a()) }(), t } function o() { document.getElementById("accBackground").style.visibility = "hidden", document.getElementById("registerField").style.visibility = "hidden", document.getElementById("loginField").style.visibility = "hidden" } function r() { document.getElementById("statsBg").style.visibility = "hidden" } function d() { document.getElementById("leaderboardHolder").style.visibility = "hidden" } let c = !1; function m(e) { return e >= 1e9 ? Math.round(e / 1e9 * 10) / 10 + "b" : e >= 1e6 ? Math.round(e / 1e6 * 10) / 10 + "m" : e >= 1e3 ? Math.round(e / 1e3 * 1) / 1 + "k" : e <= 999 ? e : void 0 } function y(e, t, i) { if (localStorage.accountName = e, localStorage.accountPassword = t, "number" == typeof i) { let t = s(i); document.getElementById("welcomeText").innerHTML = "Logged in as " + e + " lvl " + t, document.getElementById("statsUsername").innerHTML = "Name: " + e, document.getElementById("statsScore").innerHTML = "Score: " + m(i), document.getElementById("statsLevel").innerHTML = "Level: " + t; let a = "Default"; t >= 200 ? a = "Terminator" : t >= 150 ? a = "Cyborg" : t >= 100 ? a = "Soldier" : t >= 50 ? a = "Gladiator" : t >= 25 && (a = "Caveman"), document.getElementById("characterLevel").innerHTML = "Character: " + a } } function g() { document.getElementById("gameCanvas").style.visibility = "hidden", document.getElementById("minimap").style.visibility = "hidden", document.getElementById("slotHolder").style.visibility = "hidden", document.getElementById("resourceCountHolder").style.visibility = "hidden", document.getElementById("chatHolder").style.visibility = "hidden", document.getElementById("leaderboard").style.visibility = "hidden", document.getElementsByClassName("chatInput")[0].style.visibility = "hidden", document.getElementById("accBackground").style.visibility = "hidden", document.getElementById("registerField").style.visibility = "hidden", document.getElementById("loginField").style.visibility = "hidden", document.getElementById("statsBg").style.visibility = "hidden", document.getElementById("leaderboardHolder").style.visibility = "hidden" } addEventListener("DOMContentLoaded", (a => { g(), function () { localStorage.accountName.length > 0 && localStorage.accountPassword.length > 0 && fetch(i, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(["d", localStorage.accountName, localStorage.accountPassword]) }).then((e => e.json())).then((e => { "object" == typeof e && y(e[0], e[1], e[2]) })).catch((e => { })); let e = document.getElementById("registerImg"), t = document.getElementById("loginImg"); e.addEventListener("mousedown", (e => { !function () { let e = document.getElementById("loginField"), t = document.getElementById("registerField"); e.style.visibility = "hidden", t.style.visibility = "visible" }() })), t.addEventListener("mousedown", (e => { !function () { let e = document.getElementById("loginField"), t = document.getElementById("registerField"); e.style.visibility = "visible", t.style.visibility = "hidden" }() })), document.getElementById("registerClick").addEventListener("mousedown", (e => { let t = document.getElementById("usernameInput").value, a = document.getElementById("passwordInput").value, n = !1; a !== document.getElementById("repeatPasswordInput").value && (n = !0, alert("[ERROR] Passwords don't match")), a.length > 30 && (n = !0, alert("[ERROR] Password is too long")), a.length < 3 && (n = !0, alert("[ERROR] Password is too short")), t.length > 8 && (n = !0, alert("[ERROR] Username is too long")), t.length < 1 && (n = !0, alert("[ERROR] Username is too short")), !1 === n && fetch(i, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(["r", t, a]) }).then((e => e.json())).then((e => { "object" == typeof e ? y(e[0], e[1], e[2]) : alert("Server error: " + e), o(), l() })).catch((e => { alert("Server error"), o(), l() })) })), document.getElementById("loginClick").addEventListener("mousedown", (e => { let t = document.getElementById("_usernameInput").value, a = document.getElementById("_passwordInput").value, n = !1; a.length > 30 && (n = !0, alert("[ERROR] Password is too long")), a.length < 3 && (n = !0, alert("[ERROR] Password is too short")), t.length > 8 && (n = !0, alert("[ERROR] Username is too long")), t.length < 1 && (n = !0, alert("[ERROR] Username is too short")), !1 === n && fetch(i, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(["d", t, a]) }).then((e => e.json())).then((e => { "object" == typeof e ? y(e[0], e[1], e[2]) : alert("Server error: " + e), o(), l() })).catch((e => { o(), l(), alert("Server error") })) })) }(), document.getElementById("joinBtn").addEventListener("mousedown", (e => { t() })), document.getElementById("accountLogo").addEventListener("mousedown", (e => { let t = document.getElementById("accBackground"), i = document.getElementById("loginField"), a = document.getElementById("registerField"), n = document.getElementsByClassName("discordLogo")[0], l = document.getElementsByClassName("settingsLogo")[0], s = document.getElementsByClassName("inputBg")[0], o = document.getElementsByClassName("gameText")[0], c = !1; "hidden" === t.style.visibility && !1 === c && (r(), d(), c = !0, t.style.visibility = "visible", i.style.visibility = "visible", n.style.visibility = "hidden", l.style.visibility = "hidden", s.style.visibility = "hidden", o.style.visibility = "hidden"), "visible" === t.style.visibility && !1 === c && (c = !0, t.style.visibility = "hidden", i.style.visibility = "hidden", a.style.visibility = "hidden", n.style.visibility = "", l.style.visibility = "", s.style.visibility = "", o.style.visibility = "") })), document.getElementById("statsLogo").addEventListener("mousedown", (e => { let t = document.getElementById("statsBg"), i = document.getElementsByClassName("discordLogo")[0], a = document.getElementsByClassName("settingsLogo")[0], n = document.getElementsByClassName("inputBg")[0], l = document.getElementsByClassName("gameText")[0], s = !1; "hidden" === t.style.visibility && !1 === s && (d(), o(), s = !0, t.style.visibility = "visible", i.style.visibility = "hidden", a.style.visibility = "hidden", n.style.visibility = "hidden", l.style.visibility = "hidden"), "visible" === t.style.visibility && !1 === s && (s = !0, t.style.visibility = "hidden", i.style.visibility = "", a.style.visibility = "", n.style.visibility = "", l.style.visibility = "") })), document.getElementById("topLeaderboardLogo").addEventListener("mousedown", (e => { let t = document.getElementById("leaderboardHolder"), a = document.getElementsByClassName("discordLogo")[0], n = document.getElementsByClassName("settingsLogo")[0], c = document.getElementsByClassName("inputBg")[0], m = document.getElementsByClassName("gameText")[0], y = !1; if ("hidden" === t.style.visibility && !1 === y) { o(), r(); let e = []; fetch(i, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(["l"]) }).then((e => e.json())).then((t => { "object" == typeof t ? (e = t, function (e) { !function () { let e = document.getElementsByClassName("leaderboardValNameText"), t = document.getElementsByClassName("leaderboardValBorder"), i = Array.from(e), a = Array.from(t); i.forEach((function (e) { e.parentNode.removeChild(e) })), a.forEach((function (e) { e.parentNode.removeChild(e) })) }(); let t = 120, i = 122, a = document.getElementById("leaderboardHolder"); for (let l = 0; l < e.length; l++) { for (let i = 0; i < e[l].length; i++)switch (i) { case 0: let o = document.createElement("div"); o.classList.add("leaderboardValNameText"), o.style.top = t + "px", o.style.left = "78px", o.innerHTML = e[l][i]; let r = document.createElement("div"); r.classList.add("leaderboardValNameText"), r.style.top = t + "px", r.style.left = "20px", r.innerHTML = l + 1 + ". ", a.appendChild(o), a.appendChild(r); break; case 1: let d = document.createElement("div"); d.classList.add("leaderboardValNameText"), d.style.top = t + "px", d.style.left = "499px", d.innerHTML = (n = e[l][i]) >= 1e9 ? Math.round(n / 1e9) + "b" : n >= 1e6 ? Math.round(n / 1e6) + "m" : n >= 1e3 ? Math.round(n / 1e3) + "k" : n <= 999 ? n : void 0, a.appendChild(d); let c = document.createElement("div"); c.classList.add("leaderboardValNameText"), c.style.top = t + "px", c.style.left = "301px", c.innerHTML = s(e[l][i]), a.appendChild(c) }let o = document.createElement("div"); if (o.classList.add("leaderboardValBorder"), o.style.top = i + "px", a.appendChild(o), i += 30, l + 1 === e.length) { let e = document.createElement("div"); e.classList.add("leaderboardValBorder"), e.style.top = i + "px", a.appendChild(e) } t += 30 } var n }(e)) : (d(), l(), alert("Server error")) })).catch((t => { e = [], d(), l(), alert("Server error") })), y = !0, t.style.visibility = "visible", a.style.visibility = "hidden", n.style.visibility = "hidden", c.style.visibility = "hidden", m.style.visibility = "hidden" } "visible" === t.style.visibility && !1 === y && (y = !0, t.style.visibility = "hidden", a.style.visibility = "", n.style.visibility = "", c.style.visibility = "", m.style.visibility = "") })), document.getElementById("settingsLogo").addEventListener("mousedown", (e => { alert("Join our discord server, there is info about everything!\n(click the discord button)") })), function () { const a = 1e5, l = 5e5, o = 1e6; let r, d, u, I = 100, f = 11, E = !1, p = 0, h = { players: [], map: [], builds: [], hitCounter: [], chat: [], leaderboard: [], wobbleHitAnimationsBuilds: [], wobbleHitAnimationsResources: [], swingHitAnimations: [] }, b = [], v = [], _ = document.getElementById("gameCanvas"), w = _.getContext("2d"), T = document.getElementById("minimap"), O = T.getContext("2d"), A = new Image, M = new Image, L = new Image, C = new Image, x = new Image, R = new Image, S = new Image, B = new Image, N = new Image, P = new Image, D = new Image, k = new Image, H = new Image, F = new Image, K = new Image, G = new Image, W = new Image, U = new Image, V = new Image, j = new Image, q = new Image, X = new Image, Y = new Image, J = new Image, Q = new Image, z = new Image, Z = new Image, $ = new Image, ee = new Image, te = new Image, ie = new Image, ae = new Image, ne = new Image, le = new Image, se = new Image, oe = new Image, re = new Image, de = new Image, ce = new Image, me = new Image, ye = new Image, ge = new Image, ue = new Image, Ie = new Image, fe = new Image, Ee = new Image, pe = new Image, he = new Image; A.src = "./images/player/player.png", M.src = "./images/player/caveman.png", L.src = "./images/player/gladiator.png", C.src = "./images/player/soldier.png", x.src = "./images/player/recruit.png", R.src = "./images/player/terminator.png", S.src = "./images/resources/tree.png", B.src = "./images/resources/stone.png", N.src = "./images/resources/gold.png", P.src = "./images/resources/bush.png", D.src = "./images/resources/ruby.png", k.src = "./images/items/sword.png", H.src = "./images/items/hammer.png", F.src = "./images/items/pickaxe.png", K.src = "./images/items/g_sword.png", G.src = "./images/items/g_hammer.png", W.src = "./images/items/g_pickaxe.png", U.src = "./images/items/d_sword.png", V.src = "./images/items/d_hammer.png", j.src = "./images/items/d_pickaxe.png", q.src = "./images/items/r_sword.png", X.src = "./images/items/r_hammer.png", Y.src = "./images/items/r_pickaxe.png", J.src = "./images/items/e_sword.png", Q.src = "./images/items/e_hammer.png", z.src = "./images/items/e_pickaxe.png", Z.src = "./images/items/l_sword.png", $.src = "./images/items/l_hammer.png", ee.src = "./images/items/l_pickaxe.png", te.src = "./images/builds/spike_ally.png", ie.src = "./images/builds/trap_ally.png", ae.src = "./images/builds/boostpad_ally.png", ne.src = "./images/builds/wall_ally.png", le.src = "./images/builds/spike_enemy.png", se.src = "./images/builds/trap_enemy.png", oe.src = "./images/builds/boostpad_enemy.png", re.src = "./images/builds/wall_enemy.png", de.src = "./images/items/food.png", ce.src = "./images/decorations/flower_red.png", me.src = "./images/decorations/flower_violet.png", ye.src = "./images/decorations/flower_yellow.png", ge.src = "./images/decorations/flower_blue.png", ue.src = "./images/shadows/darkshadow_small.png", Ie.src = "./images/shadows/darkshadow_big.png", fe.src = "./images/shadows/darkshadow_large.png", Ee.src = "./images/shadows/lightshadow_small.png", pe.src = "./images/shadows/lightshadow_big.png", he.src = "./images/shadows/lightshadow_large.png", document.addEventListener("contextmenu", (function (e) { e.preventDefault() })); let be = [], ve = [], _e = []; const we = 300, Te = 350; function Oe(e) { for (let t = 0; t < be.length; t++)if (be[t].ui === e) { let i, a = be[t].bx, n = be[t].by, l = be[t].ax, s = be[t].ay, o = (l - a) / we, r = (s - n) / we, d = performance.now(); function c() { let t = performance.now(); if (t - d <= we && t - d > 0) { if (t - d <= 150) for (let i = 0; i < be.length; i++)be[i].ui === e && (be[i].nx = a + o * (t - d), be[i].ny = n + r * (t - d)); if (t - d > 150) for (let i = 0; i < be.length; i++)be[i].ui === e && (be[i].nx = l - o * (t - d), be[i].ny = s - r * (t - d)) } i = requestAnimationFrame(c) } function m() { cancelAnimationFrame(i); for (let t = 0; t < be.length; t++)be[t].ui === e && be.splice(t, 1) } c(), setTimeout(m, we) } } function Ae(e, t) { for (let i = 0; i < ve.length; i++)if (ve[i].bx === e && ve[i].by === t) { let a, n = ve[i].bx, l = ve[i].by, s = ve[i].ax, o = ve[i].ay, r = (s - n) / we, d = (o - l) / we, c = performance.now(); function m() { let i = performance.now(); if (i - c <= we && i - c > 0) { if (i - c <= 150) for (let a = 0; a < ve.length; a++)ve[a].bx === e && ve[a].by === t && (ve[a].nx = n + r * (i - c), ve[a].ny = l + d * (i - c)); if (i - c > 150) for (let a = 0; a < ve.length; a++)ve[a].bx === e && ve[a].by === t && (ve[a].nx = s - r * (i - c), ve[a].ny = o - d * (i - c)) } a = requestAnimationFrame(m) } function y() { cancelAnimationFrame(a); for (let i = 0; i < ve.length; i++)ve[i].bx === e && ve[i].by === t && ve.splice(i, 1) } m(), setTimeout(y, we) } } function Me(e) { for (let t = 0; t < _e.length; t++)if (_e[t].id === e) { function i(e) { return e * (180 / Math.PI) } function a(e) { return e * (Math.PI / 180) } function n() { if (void 0 !== r && _e[t].id === r && void 0 !== p) { let n, l = (i(p) - 360 - i(p)) / Te, s = performance.now(); function o() { let t = performance.now(); if (t - s <= Te && t - s > 0) { if (t - s <= 175) for (let n = 0; n < _e.length; n++)if (_e[n].id === e) { let e = i(p) + l * (t - s); _e[n].anim = a(e) } if (t - s > 175) for (let n = 0; n < _e.length; n++)if (_e[n].id === e) { let e = i(p) - 360 - l * (t - s); _e[n].anim = a(e) } } n = requestAnimationFrame(o) } function d() { cancelAnimationFrame(n); for (let t = 0; t < _e.length; t++)_e[t].id === e && _e.splice(t, 1) } o(), setTimeout(d, Te) } } function l() { if (void 0 !== r && _e[t].id !== r) { let n; for (let l = 0; l < Ne.length; l++)Ne[l].id === _e[t].id && void 0 !== Ne[l].a && "number" == typeof Ne[l].a && (n = Ne[l].a); if (void 0 !== n && "number" == typeof n) { let s, o = (i(n) - 360 - i(n)) / Te, d = performance.now(); function c() { let t = performance.now(); if (t - d <= Te && t - d > 0) { if (t - d <= 175) for (let l = 0; l < _e.length; l++)if (_e[l].id === e) { for (let e = 0; e < Ne.length; e++)Ne[e].id === _e[l].id && void 0 !== Ne[e].a && "number" == typeof Ne[e].a && (n = Ne[e].a); if (void 0 !== n && "number" == typeof n) { let e = i(n) + o * (t - d); _e[l].anim = a(e) } } if (t - d > 175) for (let l = 0; l < _e.length; l++)if (_e[l].id === e) { for (let e = 0; e < Ne.length; e++)Ne[e].id === _e[l].id && void 0 !== Ne[e].a && "number" == typeof Ne[e].a && (n = Ne[e].a); if (void 0 !== n && "number" == typeof n) { let e = i(n) - 360 - o * (t - d); _e[l].anim = a(e) } } } s = requestAnimationFrame(c) } function m() { cancelAnimationFrame(s); for (let t = 0; t < _e.length; t++)_e[t].id === e && _e.splice(t, 1) } c(), setTimeout(m, Te) } } } n(), l() } } function Le(e, t, i, a, n) { if (void 0 !== r) { let l = 600, s = 44, o = ((t -= 25) - 65 - t) / l, d = n, c = document.createElement("div"); c.classList.add("animatedHitText"), c.style.color = d, c.innerHTML = i, c.style.top = t, c.style.left = e, c.style.fontSize = s, c.style.zIndex = a, document.body.appendChild(c); let m = ""; for (let f = 0; f < d.length - 3; f++)m += d[f]; let y, g = performance.now(); function u() { if (void 0 !== r) { let e = performance.now(); function i() { let t = e - g; if (t > 200) { let e = s, i = t - 200, a = .02; c.style.fontSize = e - i * a } } function a() { if (e - g > 400) { let t = 1 - .005 * (e - g - 400); c.style.color = m + t + ")" } } c.style.top = t + (e - g) * o, i(), a() } else cancelAnimationFrame(y), c.remove(); y = requestAnimationFrame(u) } function I() { cancelAnimationFrame(y), c.remove() } u(), setTimeout(I, l) } } let Ce = []; function xe(e) { if (0 === Ce.length) { let t, i = document.createElement("div"); i.classList.add("broadcastMessage"), i.innerHTML = e, document.body.appendChild(i), Ce.push(e); let a = performance.now(); function n() { if (void 0 !== r) { let e = performance.now(); if (e - a <= 500) { let t = (e - a) / 500; i.style.opacity = t } if (e - a >= 2e3) { let t = (2500 - (e - a)) / 500; i.style.opacity = t } e - a > 2500 ? (cancelAnimationFrame(t), document.body.removeChild(i), Ce = []) : t = requestAnimationFrame(n) } else cancelAnimationFrame(t), document.body.removeChild(i), Ce = [] } n() } } function Re(e, t, i) { return e * (1 - i) + t * i } let Se = { x: void 0, y: void 0 }, Be = { x: void 0, y: void 0 }, Ne = [], Pe = !1, De = !1, ke = !1, He = !1, Fe = "S", Ke = !1; function Ge() { return "visible" === document.getElementsByClassName("chatInput")[0].style.visibility } addEventListener("keydown", (t => { if (void 0 !== r && "Enter" === t.code) { Ke = !Ke; let t = document.getElementsByClassName("chatInput")[0]; if (!1 === Ke) { t.style.visibility = "hidden"; try { e([n.INCOMING_PACKET_CHAT, t.value]) } catch (e) { } t.value = "" } if (!0 === Ke) { t.style.visibility = "visible", t.focus(); try { e([n.INCOMING_PACKET_MOVE, n.MOVE_S]), Pe = !1, De = !1, ke = !1, He = !1, Fe = "S" } catch (e) { } } } })), function () { function t() { let e = ""; return !0 === Pe && !1 === De && (e += "U"), !0 === De && !1 === Pe && (e += "D"), !0 === ke && !1 === He && (e += "L"), !0 === He && !1 === ke && (e += "R"), e.includes("U") && e.includes("L") && (e = "UL"), e.includes("U") && e.includes("R") && (e = "UR"), e.includes("D") && e.includes("L") && (e = "DL"), e.includes("D") && e.includes("R") && (e = "DR"), "" === e && (e = "S"), e } document.addEventListener("keydown", (i => { if (void 0 !== r && !1 === Ge()) { switch (i.code) { case "ArrowUp": case "KeyW": Pe = !0; break; case "ArrowDown": case "KeyS": De = !0; break; case "ArrowLeft": case "KeyA": ke = !0; break; case "ArrowRight": case "KeyD": He = !0 }let a = t(); if (a !== Fe) { Fe = a; try { e([n.INCOMING_PACKET_MOVE, Fe]) } catch (e) { } } } })), document.addEventListener("keyup", (i => { if (void 0 !== r && !1 === Ge()) { switch (i.code) { case "ArrowUp": case "KeyW": Pe = !1; break; case "ArrowDown": case "KeyS": De = !1; break; case "ArrowLeft": case "KeyA": ke = !1; break; case "ArrowRight": case "KeyD": He = !1 }let a = t(); if (a !== Fe) { Fe = a; try { e([n.INCOMING_PACKET_MOVE, Fe]) } catch (e) { } } } })) }(); let We = 100, Ue = 100, Ve = 100, je = n.ITEM_SWORD, qe = n.ITEM_SWORD, Xe = !1; (function () { let t = document.getElementById("slot1"), i = document.getElementById("slot2"), a = document.getElementById("slot3"), l = document.getElementById("slot4"), s = document.getElementById("slot5"), o = document.getElementById("slot6"), d = document.getElementById("slot7"), c = document.getElementById("slot8"); function m(t) { if (void 0 !== r && !1 === Ge()) for (let i = 0; i < h.players.length; i++)h.players[i].id === r && (t !== h.players[i].e ? (e([n.INCOMING_PACKET_EQUIP, t]), qe = t) : (e([n.INCOMING_PACKET_EQUIP, je]), qe = je)) } t.addEventListener("mousedown", (e => { m(n.ITEM_SWORD), je = n.ITEM_SWORD })), i.addEventListener("mousedown", (e => { m(n.ITEM_HAMMER), je = n.ITEM_HAMMER })), a.addEventListener("mousedown", (e => { m(n.ITEM_PICKAXE), je = n.ITEM_PICKAXE })), l.addEventListener("mousedown", (e => { m(n.ITEM_FOOD) })), s.addEventListener("mousedown", (e => { m(n.ITEM_SPIKE) })), o.addEventListener("mousedown", (e => { m(n.ITEM_TRAP) })), d.addEventListener("mousedown", (e => { m(n.ITEM_BOOSTPAD) })), c.addEventListener("mousedown", (e => { m(n.ITEM_WALL) })), document.addEventListener("keydown", (e => { switch (e.code) { case "Digit1": m(n.ITEM_SWORD), je = n.ITEM_SWORD; break; case "Digit2": m(n.ITEM_HAMMER), je = n.ITEM_HAMMER; break; case "Digit3": m(n.ITEM_PICKAXE), je = n.ITEM_PICKAXE; break; case "Digit4": case "KeyQ": m(n.ITEM_FOOD); break; case "Digit5": case "KeyR": m(n.ITEM_SPIKE); break; case "Digit6": case "KeyF": m(n.ITEM_TRAP); break; case "Digit7": case "KeyV": m(n.ITEM_BOOSTPAD); break; case "Digit8": case "KeyX": m(n.ITEM_WALL) } })) })(), function () { let t; u = { x: 0, y: 0 }, d = { x: 0, y: 0 }; let i = { x: 0, y: 0 }; document.addEventListener("mousemove", (e => { void 0 !== r && (i.x = e.x, i.y = e.y) })), function e() { if (void 0 !== r) { let e = d.x + u.x, t = d.y + u.y, a = Math.atan2(i.y - t, i.x - e); p = Math.round(100 * a) / 100 } requestAnimationFrame(e) }(), setInterval((function () { if (void 0 !== r) { let a = d.x + u.x, l = d.y + u.y, s = Math.atan2(i.y - l, i.x - a), o = Math.round(100 * s) / 100; try { o !== t && null !== o && "number" == typeof o && e([n.INCOMING_PACKET_ANGLE, o]), t = o } catch (e) { } } }), 50) }(); let Ye = !0, Je = !0; document.addEventListener("mousedown", (t => { if (!0 === Je && !1 === Xe && !0 === Ye && void 0 !== r && !1 === Ge()) { let i = t.target, a = !1; "string" == typeof i.classList[0] && !0 === i.classList[0].includes("itemSlot") && (a = !0), !1 === a && e([n.INCOMING_PACKET_HIT, 1]) } Ye = !1 })), document.addEventListener("mouseup", (t => { !0 === Je && !1 === Xe && !1 === Ye && void 0 !== r && !1 === Ge() && e([n.INCOMING_PACKET_HIT, 0]), Ye = !0 })), document.addEventListener("keydown", (t => { "Space" === t.code && !0 === Je && !0 === Ye && !1 === Xe && void 0 !== r && !1 === Ge() && (Je = !1, e([n.INCOMING_PACKET_HIT, 1])) })), document.addEventListener("keyup", (t => { "Space" === t.code && !1 === Je && !0 === Ye && !1 === Xe && void 0 !== r && !1 === Ge() && (Je = !0, e([n.INCOMING_PACKET_HIT, 0])) })), document.addEventListener("keydown", (t => { if (void 0 !== r && "KeyE" === t.code && !1 === Ge()) for (let t = 0; t < h.players.length; t++)if (h.players[t].id === r) { let i = h.players[t].h; 1 === i && !0 === Ye && !0 === Je && (Xe = !1, e([n.INCOMING_PACKET_HIT, 0])), 0 === i && !0 === Ye && !0 === Je && (Xe = !0, e([n.INCOMING_PACKET_HIT, 1])) } })), function () { function t() { for (let e = 0; e < h.players.length; e++)if (h.players[e].id === r) { let t = h.players[e].w, i = h.players[e].s; (t < 100 || i < 100) && xe("Get 100 wood and 100 stone to place a spike") } } function i() { for (let e = 0; e < h.players.length; e++)if (h.players[e].id === r) { let t = h.players[e].w, i = h.players[e].s; (t < 100 || i < 100) && xe("Get 100 wood and 100 stone to place a trap") } } function a() { for (let e = 0; e < h.players.length; e++)if (h.players[e].id === r) { let t = h.players[e].w, i = h.players[e].s; (t < 200 || i < 200) && xe("Get 200 wood and 200 stone to place a boostpad") } } function l() { for (let e = 0; e < h.players.length; e++)if (h.players[e].id === r) { let t = h.players[e].w, i = h.players[e].s; (t < 500 || i < 500) && xe("Get 500 wood and 500 stone to place a wall") } } document.addEventListener("mousedown", (s => { if (void 0 !== r && !1 === Ge()) { let o = s.target, r = !1; if ("string" == typeof o.classList[0] && !0 === o.classList[0].includes("itemSlot") && (r = !0), !1 === r) switch (qe) { case n.ITEM_SPIKE: t(), e([n.INCOMING_PACKET_BUILD, n.ITEM_SPIKE, p]); break; case n.ITEM_TRAP: i(), e([n.INCOMING_PACKET_BUILD, n.ITEM_TRAP, p]); break; case n.ITEM_BOOSTPAD: a(), e([n.INCOMING_PACKET_BUILD, n.ITEM_BOOSTPAD, p]); break; case n.ITEM_WALL: l(), e([n.INCOMING_PACKET_BUILD, n.ITEM_WALL, p]) } } })), document.addEventListener("keydown", (s => { if ("Space" === s.code && void 0 !== r && !1 === Ge()) switch (qe) { case n.ITEM_SPIKE: t(), e([n.INCOMING_PACKET_BUILD, n.ITEM_SPIKE, p]); break; case n.ITEM_TRAP: i(), e([n.INCOMING_PACKET_BUILD, n.ITEM_TRAP, p]); break; case n.ITEM_BOOSTPAD: a(), e([n.INCOMING_PACKET_BUILD, n.ITEM_BOOSTPAD, p]); break; case n.ITEM_WALL: l(), e([n.INCOMING_PACKET_BUILD, n.ITEM_WALL, p]) } })) }(), function () { function t() { for (let e = 0; e < h.players.length; e++)h.players[e].id === r && h.players[e].b < 50 && xe("Get 50 bush to be able to heal") } document.addEventListener("mousedown", (i => { if (void 0 !== r && !1 === Ge()) { let a = i.target, l = !1; if ("string" == typeof a.classList[0] && !0 === a.classList[0].includes("itemSlot") && (l = !0), !1 === l) for (let i = 0; i < h.players.length; i++)h.players[i].id === r && qe === n.ITEM_FOOD && (t(), e([n.INCOMING_PACKET_HEAL])) } })), document.addEventListener("keydown", (i => { if ("Space" === i.code && void 0 !== r && !1 === Ge()) for (let i = 0; i < h.players.length; i++)h.players[i].id === r && qe === n.ITEM_FOOD && (t(), e([n.INCOMING_PACKET_HEAL])) })) }(), t = function () { if (!1 === c) { let t; switch (c = !0, document.getElementsByClassName("serverSelect")[0].value) { case "EU Germany": t = new WebSocket("wss://europe.swordfight.io"); break; case "NA New York": t = new WebSocket("wss://america.swordfight.io") }t.addEventListener("open", (i => { document.getElementById("gameUI").style.visibility = "hidden", document.getElementById("gameCanvas").style.visibility = "visible", document.getElementById("minimap").style.visibility = "visible", document.getElementById("slotHolder").style.visibility = "visible", document.getElementById("resourceCountHolder").style.visibility = "visible", document.getElementById("chatHolder").style.visibility = "visible", document.getElementById("leaderboard").style.visibility = "visible", document.getElementById("accBackground").style.visibility = "hidden", document.getElementById("registerField").style.visibility = "hidden", document.getElementById("loginField").style.visibility = "hidden", document.getElementById("statsBg").style.visibility = "hidden", document.getElementById("leaderboardHolder").style.visibility = "hidden", E = !0, e = function (e) { !0 === E && t.send(JSON.stringify(e)) }, e([n.INCOMING_PACKET_CREATE_PLAYER, document.getElementsByClassName("nameInput")[0].value, localStorage.accountName, localStorage.accountPassword]) })), t.addEventListener("message", (e => { let t = JSON.parse(e.data); switch (t[0]) { case n.OUTGOING_PACKET_HANDSHAKE: function a() { let e = t[2], i = []; for (let t of e) { let e = { x: t[0], y: t[1], t: t[2] }; i.push(e) } h.map = i } r = t[1], a(); break; case n.OUTGOING_PACKET_UPDATE: function l() { v = b, b = []; for (let e = 0; e < h.players.length; e++)b.push({ id: h.players[e].id, l: h.players[e].l, x: h.players[e].x, y: h.players[e].y }) } function s() { if (void 0 !== r) { for (let e = 0; e < b.length; e++)for (let t = 0; t < v.length; t++)if (v[t].id === b[e].id) { let i = v[t].l - b[e].l; if (void 0 !== Be.x && void 0 !== Be.y && void 0 !== Se.x && void 0 !== Se.y) { if (i > 0) if (b[e].id === r) { let e = Se.x, t = Se.y; Le(e + Be.x, t + Be.y, i + "", 100, "rgba(255, 255, 255, 1)") } else { let t = Se.x, a = Se.y; Le(t + b[e].x, a + b[e].y, i + "", 50, "rgba(255, 255, 255, 1)") } if (i < 0) { let i = b[e].l - v[t].l; if (b[e].id === r) { let e = Se.x, t = Se.y; Le(e + Be.x, t + Be.y, i + "", 150, "rgba(0, 255, 9, 1)") } else { let t = Se.x, a = Se.y; Le(t + b[e].x, a + b[e].y, i + "", 20, "rgba(0, 255, 9, 1)") } } } } for (let e = 0; e < v.length; e++) { let t = v[e], i = !0; for (let e = 0; e < b.length; e++)t.id === b[e].id && (i = !1); if (!0 === i && void 0 !== Be.x && void 0 !== Be.y && void 0 !== Se.x && void 0 !== Se.y) { let e = t.l, i = Se.x, a = Se.y; Le(i + t.x, a + t.y, e + "", 100, "rgba(255, 0, 0, 1)") } } } } i = t, function () { let e = i[1], t = [], a = 0; for (let i of e) { if (0 !== a) { let e = { id: i[2], x: i[0], y: i[1], a: i[8], h: i[7], l: i[3], e: i[4], n: i[6], hc: i[9], g: i[5], ag: i[10] }; t.push(e) } else { let e = { id: i[2], x: i[0], y: i[1], a: i[10], h: i[9], l: i[3], e: i[4], b: i[12], w: i[5], s: i[6], g: i[7], n: i[8], hc: i[11], ag: i[13] }; t.push(e) } a++ } h.players = t }(), function () { let e = i[2], t = []; for (let i of e) { let e = { id: i[2], x: i[0], y: i[1], a: i[4], t: i[3], ui: i[5] }; t.push(e) } let a = [], l = [], s = [], o = []; for (let e of t) switch (e.t) { case n.ITEM_SPIKE: a.push(e); break; case n.ITEM_TRAP: l.push(e); break; case n.ITEM_BOOSTPAD: s.push(e); break; case n.ITEM_WALL: o.push(e) }h.builds = [...l, ...s, ...a, ...o] }(), function () { let e = i[3], t = []; for (let i of e) { let e = { d: i[0], id: i[1] }; t.push(e) } h.chat = t }(), function () { let e = i[4], t = []; for (let i of e) { let e = { g: i[0], n: i[1] }; t.push(e) } h.leaderboard = t }(), function () { let e = i[5], t = []; for (let i of e) { let e = { ui: i[4], ax: i[2], ay: i[3], bx: i[0], by: i[1] }; t.push(e) } h.wobbleHitAnimationsBuilds = t }(), function () { let e = i[6], t = []; for (let i of e) { let e = { ax: i[2], ay: i[3], bx: i[0], by: i[1], id: i[4] }; t.push(e) } h.wobbleHitAnimationsResources = t }(), function () { if (void 0 !== r) for (let e = 0; e < h.players.length; e++)if (h.players[e].id === r) for (let t of h.wobbleHitAnimationsResources) t.id === r && h.players[e].e !== n.ITEM_PICKAXE && xe("Equip your pickaxe to mine resources") }(), function () { let e = i[7], t = []; for (let i of e) { let e = { id: i[0] }; t.push(e) } h.swingHitAnimations = t }(), function () { for (let e = 0; e < h.wobbleHitAnimationsBuilds.length; e++)be.push(h.wobbleHitAnimationsBuilds[e]), Oe(h.wobbleHitAnimationsBuilds[e].ui) }(), function () { for (let e = 0; e < h.wobbleHitAnimationsResources.length; e++)ve.push(h.wobbleHitAnimationsResources[e]), Ae(h.wobbleHitAnimationsResources[e].bx, h.wobbleHitAnimationsResources[e].by) }(), function () { for (let e = 0; e < h.swingHitAnimations.length; e++)_e.push(h.swingHitAnimations[e]), Me(h.swingHitAnimations[e].id) }(), l(), s() }var i })), t.addEventListener("close", (e => { E = !1, r = void 0, h = { players: [], map: [], builds: [], hitCounter: [], chat: [], leaderboard: [], wobbleHitAnimationsBuilds: [], wobbleHitAnimationsResources: [], swingHitAnimations: [] }, Ye = !0, Je = !0, Xe = !1, be = [], ve = [], _e = [], b = [], v = [], Se = { x: void 0, y: void 0 }, Be = { x: void 0, y: void 0 }, Ne = [], We = 100, Ue = 100, Ve = 100, je = n.ITEM_SWORD, qe = n.ITEM_SWORD, Xe = !1, Pe = !1, De = !1, ke = !1, He = !1, Fe = "S", c = !1, Ke = !1, g(), document.getElementById("gameUI").style.visibility = "visible", localStorage.accountName.length > 0 && localStorage.accountPassword.length > 0 && fetch(i, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(["d", localStorage.accountName, localStorage.accountPassword]) }).then((e => e.json())).then((e => { "object" == typeof e && y(e[0], e[1], e[2]) })).catch((e => { })) })), t.addEventListener("error", (e => { })) } }; let Qe = 100, ze = .045, Ze = .025, $e = .08, et = 0; function tt() { let e = window.innerWidth + 1, t = window.innerHeight + 1; _.width = e, _.height = t } setInterval((function () { Qe = et >= 20 ? et : 100; let e = { camera: 144 / (t = Qe) * .025, player: 144 / t * .045, angle: 144 / t * .08 }; var t; Ze = e.camera, ze = e.player, $e = e.angle, et = 0 }), 1e3), function e() { et++, requestAnimationFrame(e) }(), function t() { const i = { ...h }; if (i.map = [], function () { if (void 0 !== r) for (let l = 0; l < i.players.length; l++)if (i.players[l].id === r) { let s = [], o = i.players[l].x, r = i.players[l].y; for (let i = 0; i < h.map.length; i++)e = o, t = r, a = h.map[i].x, n = h.map[i].y, Math.sqrt(Math.pow(a - e, 2) + Math.pow(n - t, 2)) <= 2e3 && s.push(h.map[i]); i.map = s } var e, t, a, n }(), function () { if (void 0 !== r) for (let t = 0; t < i.players.length; t++)if (i.players[t].id === r) { let a = i.players[t].e, l = i.players[t].w, s = i.players[t].s, o = i.players[t].b; (l < We || s < Ue || o < Ve) && a !== n.ITEM_SWORD && a !== n.ITEM_HAMMER && a !== n.ITEM_PICKAXE && (e([n.INCOMING_PACKET_EQUIP, je]), qe = je), l === We && s === Ue && o === Ve || (We = l, Ue = s, Ve = o) } }(), void 0 === Se.x && void 0 === Se.y && function () { for (let e = 0; e < i.players.length; e++)void 0 !== r && i.players[e].id === r && (Se.x = _.width / 2 - i.players[e].x, Se.y = _.height / 2 - i.players[e].y) }(), void 0 === Be.x && void 0 === Be.y && function () { for (let e = 0; e < i.players.length; e++)void 0 !== r && i.players[e].id === r && (Be.x = i.players[e].x, Be.y = i.players[e].y) }(), void 0 !== r && void 0 !== Se.x && void 0 !== Se.y && void 0 !== Be.x && void 0 !== Be.y) { let c, y, g = { x: void 0, y: void 0, m: void 0, a: void 0 }; function E() { for (let e = 0; e < i.players.length; e++)i.players[e].id === r && (g.x = i.players[e].x, g.y = i.players[e].y, g.m = i.players[e].m, g.a = i.players[e].a) } function b() { for (let c = 0; c < i.players.length; c++)if (i.players[c].id !== r) { let m, y, g, u = !1; for (let S = 0; S < Ne.length; S++)if (Ne[S].id === i.players[c].id) { m = Ne[S].x, y = Ne[S].y, g = Ne[S].a, u = !0; break } u || (m = i.players[c].x, y = i.players[c].y, g = i.players[c].a, Ne.push({ id: i.players[c].id, x: m, y: y, a: g })); const E = Re(m, i.players[c].x, ze), p = Re(y, i.players[c].y, ze), h = (e = g, t = i.players[c].a, d = $e, e + function (e, t) { var i = 2 * Math.PI, a = (t - e) % i; return 2 * a % i - a }(e, t) * d); for (let B = 0; B < Ne.length; B++)if (Ne[B].id === i.players[c].id) { Ne[B].x = E, Ne[B].y = p, Ne[B].a = h; break } w.save(); let b = h; for (let N = 0; N < _e.length; N++)_e[N].id === i.players[c].id && void 0 !== _e[N].anim && (b = _e[N].anim); function v() { w.save(); let e = k, t = H, s = F; switch (function () { let n = !1; i.players[c].g >= o && !1 === n && (e = Z, t = $, s = ee, n = !0), i.players[c].g >= l && !1 === n && (e = J, t = Q, s = z, n = !0), i.players[c].g >= a && !1 === n && (e = q, t = X, s = Y, n = !0), i.players[c].g >= 5e4 && !1 === n && (e = U, t = V, s = j, n = !0), i.players[c].g >= 1e4 && !1 === n && (e = K, t = G, s = W, n = !0) }(), i.players[c].e) { case n.ITEM_SWORD: w.translate(-61.6, 27), w.rotate(4.71238898038469), w.drawImage(e, -110, -110, 220, 220); break; case n.ITEM_HAMMER: w.translate(-19.5, 27.5), w.rotate(4.71238898038469), w.drawImage(t, -98, -98, 196, 196); break; case n.ITEM_PICKAXE: w.translate(-35.5, 27.5), w.rotate(4.71238898038469), w.drawImage(s, -94, -94, 188, 188); break; case n.ITEM_FOOD: w.translate(0, 47), w.rotate(Math.PI), w.drawImage(de, -50, -50, 100, 100); break; case n.ITEM_SPIKE: w.translate(0, 83), w.rotate(Math.PI), w.drawImage(le, -70, -70, 140, 140); break; case n.ITEM_TRAP: w.translate(0, 76), w.rotate(2 * Math.PI), w.drawImage(se, -70, -70, 140, 140); break; case n.ITEM_BOOSTPAD: w.translate(0, 79), w.rotate(4.71238898038469), w.drawImage(oe, -70, -70, 140, 140); break; case n.ITEM_WALL: w.translate(0, 79), w.rotate(4.71238898038469), w.drawImage(re, -70, -70, 140, 140) }w.restore() } w.translate(E, p), w.rotate(b - Math.PI / 2), v(); let _ = s(i.players[c].ag), T = A; function O() { w.save(); let e = i.players[c].l; w.translate(E - 50, p + 65), w.fillStyle = "#00000080", w.fillRect(0, 0, I, f); let t = e / 100 * I; w.fillStyle = "#ff0000", w.fillRect(0, 0, t, f), w.lineWidth = 4, w.strokeStyle = "black", w.strokeRect(0, 0, I, f), w.restore() } _ >= 200 ? T = R : _ >= 150 ? T = x : _ >= 100 ? T = C : _ >= 50 ? T = L : _ >= 25 && (T = M), w.drawImage(T, -45, -45, 90, 90), w.restore(), O() } var e, t, d } function v() { for (let e = 0; e < i.players.length; e++)if (i.players[e].id === r) { w.save(), Be.x = Re(Be.x, g.x, ze), Be.y = Re(Be.y, g.y, ze), d.x = Be.x, d.y = Be.y, w.translate(Be.x, Be.y); let t = p; for (let E = 0; E < _e.length; E++)_e[E].id === i.players[e].id && void 0 !== _e[E].anim && (t = _e[E].anim); function c() { w.save(); let t = k, s = H, r = F; switch (function () { let n = !1; i.players[e].g >= o && !1 === n && (t = Z, s = $, r = ee, n = !0), i.players[e].g >= l && !1 === n && (t = J, s = Q, r = z, n = !0), i.players[e].g >= a && !1 === n && (t = q, s = X, r = Y, n = !0), i.players[e].g >= 5e4 && !1 === n && (t = U, s = V, r = j, n = !0), i.players[e].g >= 1e4 && !1 === n && (t = K, s = G, r = W, n = !0) }(), i.players[e].e) { case n.ITEM_SWORD: w.translate(-61.6, 27), w.rotate(4.71238898038469), w.drawImage(t, -110, -110, 220, 220); break; case n.ITEM_HAMMER: w.translate(-19.5, 27.5), w.rotate(4.71238898038469), w.drawImage(s, -98, -98, 196, 196); break; case n.ITEM_PICKAXE: w.translate(-35.5, 27.5), w.rotate(4.71238898038469), w.drawImage(r, -94, -94, 188, 188); break; case n.ITEM_FOOD: w.translate(0, 47), w.rotate(Math.PI), w.drawImage(de, -50, -50, 100, 100); break; case n.ITEM_SPIKE: w.translate(0, 83), w.rotate(Math.PI), w.drawImage(te, -70, -70, 140, 140); break; case n.ITEM_TRAP: w.translate(0, 76), w.rotate(2 * Math.PI), w.drawImage(ie, -70, -70, 140, 140); break; case n.ITEM_BOOSTPAD: w.translate(0, 79), w.rotate(4.71238898038469), w.drawImage(ae, -70, -70, 140, 140); break; case n.ITEM_WALL: w.translate(0, 79), w.rotate(4.71238898038469), w.drawImage(ne, -70, -70, 140, 140) }w.restore() } w.rotate(t - Math.PI / 2), c(); let m = s(i.players[e].ag), y = A; function u() { w.save(); let t = i.players[e].l; w.translate(Be.x - 50, Be.y + 65), w.fillStyle = "#00000080", w.fillRect(0, 0, I, f); let a = t / 100 * I; w.fillStyle = "#00ff09", w.fillRect(0, 0, a, f), w.lineWidth = 4, w.strokeStyle = "black", w.strokeRect(0, 0, I, f), w.restore() } m >= 200 ? y = R : m >= 150 ? y = x : m >= 100 ? y = C : m >= 50 ? y = L : m >= 25 && (y = M), w.drawImage(y, -45, -45, 90, 90), w.restore(), u() } } function we() { for (let e = 0; e < i.map.length; e++)switch (i.map[e].t) { case n.DECORATION_DARK_SHADOW_SMALL: function t() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(ue, -80, -80, 160, 160), w.restore() } t(); break; case n.DECORATION_DARK_SHADOW_BIG: function a() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(Ie, -110, -110, 220, 220), w.restore() } a(); break; case n.DECORATION_DARK_SHADOW_LARGE: function l() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(fe, -150, -150, 300, 300), w.restore() } l(); break; case n.DECORATION_LIGHT_SHADOW_SMALL: function s() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(Ee, -80, -80, 160, 160), w.restore() } s(); break; case n.DECORATION_LIGHT_SHADOW_BIG: function o() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(pe, -110, -110, 220, 220), w.restore() } o(); break; case n.DECORATION_LIGHT_SHADOW_LARGE: function r() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(he, -150, -150, 300, 300), w.restore() } r() } } function Te() { for (let e = 0; e < i.map.length; e++)switch (i.map[e].t) { case n.DECORATION_FLOWER_RED: function t() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(ce, -25, -25, 50, 50), w.restore() } t(); break; case n.DECORATION_FLOWER_BLUE: function a() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(ge, -25, -25, 50, 50), w.restore() } a(); break; case n.DECORATION_FLOWER_VIOLET: function l() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(me, -25, -25, 50, 50), w.restore() } l(); break; case n.DECORATION_FLOWER_YELLOW: function s() { w.save(), w.translate(i.map[e].x, i.map[e].y), w.drawImage(ye, -25, -25, 50, 50), w.restore() } s() } } function Oe() { for (let e = 0; e < i.builds.length; e++) { let t = i.builds[e].x, a = i.builds[e].y; for (let l = 0; l < be.length; l++)i.builds[e].ui === be[l].ui && void 0 !== be[l].nx && void 0 !== be[l].ny && (t = be[l].nx, a = be[l].ny); if (i.builds[e].id === r) switch (i.builds[e].t) { case n.ITEM_SPIKE: function s() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(te, -70, -70, 140, 140), w.restore() } s(); break; case n.ITEM_TRAP: function o() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(ie, -70, -70, 140, 140), w.restore() } o(); break; case n.ITEM_BOOSTPAD: function d() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(ae, -70, -70, 140, 140), w.restore() } d(); break; case n.ITEM_WALL: function c() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(ne, -70, -70, 140, 140), w.restore() } c() }if (i.builds[e].id !== r) switch (i.builds[e].t) { case n.ITEM_SPIKE: function m() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(le, -70, -70, 140, 140), w.restore() } m(); break; case n.ITEM_TRAP: function y() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(se, -70, -70, 140, 140), w.restore() } y(); break; case n.ITEM_BOOSTPAD: function g() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(oe, -70, -70, 140, 140), w.restore() } g(); break; case n.ITEM_WALL: function u() { w.save(), w.translate(t, a), w.rotate(i.builds[e].a - Math.PI / 2), w.drawImage(re, -70, -70, 140, 140), w.restore() } u() } } } function Ae() { for (let e = 0; e < i.map.length; e++) { let t = i.map[e].x, a = i.map[e].y; for (let l = 0; l < ve.length; l++)i.map[e].x === ve[l].bx && i.map[e].y === ve[l].by && void 0 !== ve[l].nx && void 0 !== ve[l].ny && (t = ve[l].nx, a = ve[l].ny); switch (i.map[e].t) { case n.RESOURCE_TREE: function s() { w.save(), w.translate(t, a), w.drawImage(S, -125, -125, 250, 250), w.restore() } s(); break; case n.RESOURCE_STONE: function o() { w.save(), w.translate(t, a), w.drawImage(B, -94, -94, 188, 188), w.restore() } o(); break; case n.RESOURCE_GOLD: function r() { w.save(), w.translate(t, a), w.drawImage(N, -94, -94, 188, 188), w.restore() } r(); break; case n.RESOURCE_BUSH: function d() { w.save(), w.translate(t, a), w.drawImage(P, -117, -117, 234, 234), w.restore() } d(); break; case n.RESOURCE_RUBY: function c() { w.save(), w.translate(t, a), w.drawImage(D, -195, -195, 390, 390), w.restore() } c() } } } function Me() { for (let e = 0; e < i.players.length; e++) { const t = i.players[e]; if (t.id !== r) { let a, n; for (let e = 0; e < Ne.length; e++)if (Ne[e].id === t.id) { a = Ne[e].x, n = Ne[e].y; break } if (w.save(), w.translate(a, n), s(i.players[e].ag) > 0) { let t; w.strokeStyle = "#000000", w.fillStyle = "#e2dc17", w.font = "bold 27px calibri", w.lineWidth = 7; let a = i.players[e].n, n = i.players[e].n; a.length > 0 ? (t = " [" + s(i.players[e].ag) + "]", a = " " + a + t, n = " " + n) : (t = "[" + s(i.players[e].ag) + "]", a = t); let l = 0 - w.measureText(a).width / 2, o = -65; w.strokeText(a, l, o), w.fillText(a, l, o), n.length > 1 && (w.fillStyle = "#FFFFFF", w.fillText(n, l, o)) } else { w.strokeStyle = "#000000", w.fillStyle = "#FFFFFF", w.font = "bold 26px system-ui", w.lineWidth = 7; let t = i.players[e].n, a = 0 - w.measureText(t).width / 2, n = -65; w.strokeText(t, a, n), w.fillText(t, a, n) } w.restore() } } } function Le() { for (let e = 0; e < i.players.length; e++)if (i.players[e].id === r) { if (w.save(), w.translate(Be.x, Be.y), s(i.players[e].ag) > 0) { let t; w.strokeStyle = "#000000", w.fillStyle = "#e2dc17", w.font = "bold 27px calibri", w.lineWidth = 7; let a = i.players[e].n, n = i.players[e].n; a.length > 0 ? (t = " [" + s(i.players[e].ag) + "]", a = " " + a + t, n = " " + n) : (t = "[" + s(i.players[e].ag) + "]", a = t); let l = 0 - w.measureText(a).width / 2, o = -65; w.strokeText(a, l, o), w.fillText(a, l, o), n.length > 1 && (w.fillStyle = "#FFFFFF", w.fillText(n, l, o)) } else { w.strokeStyle = "#000000", w.fillStyle = "#FFFFFF", w.font = "bold 27px calibri", w.lineWidth = 7; let t = i.players[e].n, a = 0 - w.measureText(t).width / 2, n = -65; w.strokeText(t, a, n), w.fillText(t, a, n) } w.restore() } } function Ce() { for (let e = 0; e < i.players.length; e++)if (i.players[e].id === r) for (let e = 0; e < i.chat.length; e++)if (i.chat[e].id === r) { w.save(), w.translate(Be.x, Be.y); let t = i.chat[e].d; w.strokeStyle = "#000000", w.fillStyle = "#FFFFFF", w.font = "bold 24px system-ui", w.lineWidth = 7; let a = w.measureText(t).width, n = 0 - a / 2, l = -108; w.fillStyle = "rgba(0, 0, 0, 0.4)"; let s = n - 10, o = l - 25, r = a + 20, d = 37; w.fillRect(s, o, r, d), w.fillStyle = "#FFFFFF", w.font = "bold 24px system-ui", w.lineWidth = 7, w.fillText(t, n, l), w.restore() } } function xe() { for (let e = 0; e < i.players.length; e++) { const t = i.players[e]; if (t.id !== r) { let e, a; for (let i = 0; i < Ne.length; i++)if (Ne[i].id === t.id) { e = Ne[i].x, a = Ne[i].y; break } for (let n = 0; n < i.chat.length; n++)if (i.chat[n].id === t.id) { w.save(), w.translate(e, a); let t = i.chat[n].d; w.strokeStyle = "#000000", w.fillStyle = "#FFFFFF", w.font = "bold 24px system-ui", w.lineWidth = 7; let l = w.measureText(t).width, s = 0 - l / 2, o = -108; w.fillStyle = "rgba(0, 0, 0, 0.4)"; let r = s - 10, d = o - 25, c = l + 20, m = 37; w.fillRect(r, d, c, m), w.fillStyle = "#FFFFFF", w.font = "bold 24px system-ui", w.lineWidth = 7, w.fillText(t, s, o), w.restore() } } } } function Pe() { let e = .0175; O.clearRect(0, 0, T.width, T.height), O.fillStyle = "rgba(0, 0, 0, 0.4)", O.fillRect(0, 0, T.width, T.height); let t = g.x * e, i = g.y * e; O.beginPath(), O.arc(t, i, 3, 0, 2 * Math.PI), O.fillStyle = "white", O.fill(), O.closePath() } function De() { for (let e = 0; e < 10; e++) { let t = "", a = "", n = ""; void 0 !== i.leaderboard[e] && (t = i.leaderboard[e].g, a = i.leaderboard[e].n, n = e + 1 + "."); let l, s = e + 1; "" !== l && (l = m(t)), document.getElementById("score" + s).innerHTML = l, document.getElementById("top" + s).innerHTML = a, document.getElementById("num" + s).innerHTML = n } } function ke() { for (let e = 0; e < i.players.length; e++)i.players[e].id === r && (document.getElementById("berryCount").innerHTML = m(i.players[e].b), document.getElementById("woodCount").innerHTML = m(i.players[e].w), document.getElementById("stoneCount").innerHTML = m(i.players[e].s), document.getElementById("goldCount").innerHTML = m(i.players[e].g)) } function He() { E(), w.clearRect(0, 0, window.innerWidth, window.innerHeight), w.save(), w.fillStyle = "#282828", w.fillRect(0, 0, _.width, _.height), c = _.width / 2 - g.x, y = _.height / 2 - g.y, Se.x = Re(Se.x, c, Ze), Se.y = Re(Se.y, y, Ze), u.x = Se.x, u.y = Se.y, w.translate(Se.x, Se.y), w.fillStyle = "#133a2b", w.fillRect(0, 0, 1e4, 1e4), we(), Te(), Oe(), Ae(), b(), v(), Me(), Le(), xe(), Ce(), Pe(), De(), ke() } w.restore(), He() } requestAnimationFrame(t) }(), tt(), window.addEventListener("resize", tt) }() }));